<!DOCTYPE html>

<!--
Project name(项目名称)：JS_setTimeout_and_setInterval
  File name(文件名): test2
  Authors(作者）: mao
  Author QQ：1296193245
  GitHub：https://github.com/maomao124/
  Date(创建日期)： 2022/3/19
  Time(创建时间)： 13:17
  Description(描述)： 无
-->

<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>


<p>当前时间为：<span id="clock"></span></p>
<button onclick="stopClock(this);">停止</button>
<hr>
<button onclick="delayedAlert(this);">2秒后弹出一个提示框</button>
<button onclick="clearAlert();">取消</button>
<script type="text/javascript">
    var intervalID;

    function showTime()
    {
        var d = new Date();
        document.getElementById("clock").innerHTML = d.toLocaleTimeString();
    }

    function stopClock(e)
    {
        clearInterval(intervalID);
        e.setAttribute('disabled', true)
    }

    intervalID = setInterval(showTime, 1000);
    var timeoutID;
    var that;

    function delayedAlert(e)
    {
        that = e;
        timeoutID = setTimeout(showAlert, 2000);
        e.setAttribute('disabled', true)
    }

    function showAlert()
    {
        alert('这是一个提示框。');
        that.removeAttribute('disabled');
    }

    function clearAlert()
    {
        clearTimeout(timeoutID);
        that.removeAttribute('disabled');
    }
</script>


</body>
</html>